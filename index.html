<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tae Uk — Portfolio</title>

  <!-- Clean modern font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#ffffff;
      --panel:#fbfbfd;
      --text:#0f172a;
      --muted:#475569;
      --line:#e2e8f0;
      --soft:#f8fafc;
      --accent:#2563eb;
      --shadow: 0 10px 25px rgba(15, 23, 42, 0.06);
      --radius: 14px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    a{color:var(--text); text-decoration:none}
    a:hover{text-decoration:underline}

    .app{
      display:grid;
      grid-template-columns: 280px 1fr;
      min-height:100vh;
    }

    /* Sidebar */
    aside{
      border-right:1px solid var(--line);
      background:var(--panel);
      padding:28px 18px;
    }
    .brand{
      margin-bottom:18px;
      padding:14px 14px 12px;
      background:#fff;
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }
    .brand .name{
      font-size:16px;
      font-weight:700;
      margin:0;
    }
    .brand .sub{
      margin:6px 0 0;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }

    .nav-block-title{
      font-size:11px;
      color:var(--muted);
      letter-spacing:.08em;
      text-transform:uppercase;
      margin:16px 8px 8px;
    }

    .nav{
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    /* Simple item */
    .nav-item{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:10px 10px;
      border-radius:10px;
      border:1px solid transparent;
      background:transparent;
      cursor:pointer;
      text-align:left;
      width:100%;
      font-size:14px;
      color:var(--text);
    }
    .nav-item:hover{
      background:var(--soft);
      border-color:var(--line);
    }
    .nav-item[aria-selected="true"]{
      background:#fff;
      border-color:rgba(37,99,235,.25);
      position:relative;
    }
    .nav-item[aria-selected="true"]::before{
      content:"";
      position:absolute;
      left:-18px;
      top:8px;
      bottom:8px;
      width:3px;
      border-radius:999px;
      background:var(--accent);
    }
    .nav-item small{
      color:var(--muted);
      font-size:12px;
    }

    /* Group (accordion) */
    .nav-group{
      background:#fff;
      border:1px solid var(--line);
      border-radius: 12px;
      overflow:hidden;
      box-shadow: 0 1px 0 rgba(15,23,42,.03);
    }
    .nav-group > button{
      width:100%;
      border:none;
      background:#fff;
      padding:11px 10px;
      cursor:pointer;
      display:flex;
      justify-content:space-between;
      align-items:center;
      font-size:14px;
      font-weight:600;
      color:var(--text);
    }
    .nav-group > button:hover{ background: var(--soft); }
    .chev{
      width:22px; height:22px;
      border:1px solid var(--line);
      border-radius:999px;
      display:grid; place-items:center;
      color:var(--muted);
      transition:transform .12s ease;
      flex:0 0 auto;
    }
    .nav-group[aria-expanded="true"] .chev{ transform: rotate(180deg); }
    .nav-sub{
      border-top:1px solid var(--line);
      padding:6px;
      display:none;
      background:#fff;
    }
    .nav-group[aria-expanded="true"] .nav-sub{ display:block; }
    .nav-sub .nav-item{
      padding:9px 10px;
      font-size:13.5px;
      border-radius:10px;
    }
    .nav-sub .nav-item[aria-selected="true"]::before{
      left:-18px;
    }

    /* Main */
    main{
      padding:34px 44px;
      background:var(--bg);
    }
    .container{
      max-width: 980px;
    }

    .kicker{
      margin:0 0 8px;
      color:var(--muted);
      font-size:13px;
    }
    h1{
      margin:0 0 12px;
      font-size:28px;
      letter-spacing:-0.02em;
    }
    .lead{
      margin:0 0 18px;
      color:var(--muted);
      line-height:1.7;
      max-width: 78ch;
    }
    .hr{
      height:1px;
      background:var(--line);
      margin:20px 0;
    }

    .section-title{
      font-size:15px;
      font-weight:700;
      margin:16px 0 8px;
    }
    .card-block{
      background:#fff;
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding:16px 16px 14px;
      box-shadow: var(--shadow);
      margin:12px 0;
    }

    .course{
      margin:0;
      line-height:1.75;
      color:var(--text);
    }
    .course b{ font-weight:700; }
    .course .label{
      color: var(--muted);
      font-weight:600;
    }

    ul{
      margin:10px 0 0 18px;
      color:var(--muted);
      line-height:1.75;
    }

    /* Project list cards (like your screenshot) */
    .list{
      display:flex;
      flex-direction:column;
      gap:24px;
      margin-top:10px;
    }
    .proj{
      display:grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap:26px;
      align-items:start;
    }
    .proj .meta{
      font-size:12px;
      font-weight:700;
      color:var(--accent);
      letter-spacing:.06em;
      text-transform:uppercase;
      margin-bottom:10px;
    }
    .proj h2{
      margin:0 0 10px;
      font-size:22px;
      line-height:1.25;
      letter-spacing:-0.01em;
    }
    .proj p{
      margin:0 0 12px;
      color:var(--muted);
      line-height:1.7;
      max-width: 72ch;
    }
    .learn{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-weight:600;
      color:var(--text);
    }
    .thumb{
      display:flex;
      justify-content:flex-end;
      align-items:flex-start;
    }
    .thumb img{
      width:100%;
      max-width: 420px;
      border-radius:12px;
      border:1px solid var(--line);
      background:#fff;
      display:block;
    }
    .divider{
      height:1px;
      background:var(--line);
      margin:18px 0 0;
    }
    code{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12.5px;
      background: var(--soft);
      border:1px solid var(--line);
      border-radius: 8px;
      padding: 2px 6px;
    }
    .note{
      color:var(--muted);
      font-size:13px;
      margin-top:10px;
    }

    @media (max-width: 980px){
      .app{grid-template-columns:1fr}
      aside{border-right:none;border-bottom:1px solid var(--line)}
      main{padding:22px 18px}
      .proj{grid-template-columns:1fr; gap:14px}
      .thumb{justify-content:flex-start}
      .nav-item[aria-selected="true"]::before{left:0}
      .nav-sub .nav-item[aria-selected="true"]::before{left:0}
    }
  </style>
</head>

<body>
  <div class="app">
    <aside>
      <div class="brand">
        <p class="name">Tae Uk (Teddy) You</p>
        <p class="sub">Senior Data Scientist · DS Graduate Applicant<br/>Quantitative foundations · Responsible ML · Decision support</p>
      </div>

      <div class="nav-block-title">Navigation</div>
      <div class="nav" id="nav"></div>

      <div class="nav-block-title">Links</div>
      <div class="nav">
        <!-- Put your PDF next to index.html and rename it to Resume_Tae Uk You.pdf -->
        <a class="nav-item" href="Resume_Tae Uk You.pdf" target="_blank" rel="noreferrer">
          Resume <small>PDF</small>
        </a>
        <a class="nav-item" href="https://www.linkedin.com/in/taeukyou" target="_blank" rel="noreferrer">
          LinkedIn <small>→</small>
        </a>
        <a class="nav-item" href="#" target="_blank" rel="noreferrer">
          GitHub <small>→</small>
        </a>
      </div>

      <div class="nav-block-title">Your uploaded resume</div>
      <div class="nav">
        <a class="nav-item" href="sandbox:/mnt/data/Resume_Tae Uk You.pdf" target="_blank" rel="noreferrer">
          Open the uploaded PDF <small>↗</small>
        </a>
      </div>
    </aside>

    <main>
      <div class="container" id="content"></div>
    </main>
  </div>

  <script>
    /**
     * Files to place next to index.html:
     * - Resume_Tae Uk You.pdf
     * - minneamudac-2018.jpg
     */

    const PAGES = {
      // Simple pages
      featured: {
        label: "Featured",
        render: () => `
          <p class="kicker">Featured</p>
          <h1>Selected Highlights</h1>
          <p class="lead">
            A clean, admissions-friendly overview. Click Academic and Community for the detailed coursework and competition record.
          </p>

          <div class="list">
            ${projectCard({
              meta: "ACADEMICS | QUANT FOUNDATIONS",
              title: "Top 10 Quantitative Coursework",
              desc: "Proof-driven statistics, linear algebra, regression, ML, sampling methodology, and communication for defensible modeling in production settings.",
              img: "",
              linkText: "Learn more",
              to: "academic-top10"
            })}
            <div class="divider"></div>

            ${projectCard({
              meta: "COMMUNITY | DATA COMPETITIONS",
              title: "MinneaMUDAC 2018, MUDAC 2019, Herobot AI 2019",
              desc: "Applied statistical learning to real-world, noisy datasets—focusing on feature construction, defensible evaluation, and interpretability for stakeholders.",
              img: "minneamudac-2018.jpg",
              linkText: "Learn more",
              to: "community-competitions"
            })}
            <div class="divider"></div>

            ${projectCard({
              meta: "RESUME | PDF",
              title: "Resume (PDF)",
              desc: "Open the PDF directly from the sidebar. Recommended: place it as Resume_Tae Uk You.pdf next to index.html for GitHub Pages hosting.",
              img: "",
              linkText: "Open resume",
              to: "resume"
            })}
          </div>
        `
      },

      about: {
        label: "About Me",
        render: () => `
          <p class="kicker">About Me</p>
          <h1>Quantitative foundations for responsible, real-world ML</h1>
          <p class="lead">
            I focus on building systems where modeling decisions are defensible: assumptions are explicit,
            uncertainty is acknowledged, and outputs are usable by non-technical decision-makers.
          </p>

          <div class="card-block">
            <div class="section-title">What I optimize for</div>
            <ul>
              <li><b>Defensibility:</b> assumptions, validation, and uncertainty are treated as first-class requirements.</li>
              <li><b>Usability:</b> insights delivered at the point of decision, not buried inside dashboards.</li>
              <li><b>Stewardship:</b> privacy and governance constraints integrated into system design.</li>
            </ul>
          </div>
        `
      },

      // Resume "page" (just instructions + open link)
      resume: {
        label: "Resume",
        render: () => `
          <p class="kicker">Resume</p>
          <h1>Resume (PDF)</h1>
          <p class="lead">
            If you placed your file next to <code>index.html</code> as <code>Resume_Tae Uk You.pdf</code>, the sidebar Resume link will open it directly.
          </p>

          <div class="card-block">
            <div class="section-title">Open the uploaded PDF (current)</div>
            <p class="course">
              You can open your uploaded PDF here:
              <a href="sandbox:/mnt/data/Resume_Tae Uk You.pdf" target="_blank" rel="noreferrer">Open Resume_Tae Uk You.pdf</a>
            </p>
            <p class="note">For a public website (GitHub Pages), download the PDF and rename it to <b>Resume_Tae Uk You.pdf</b> in the same folder as index.html.</p>
          </div>
        `
      },

      // Academic subpages
      "academic-top10": {
        label: "Academic — Top 10",
        render: () => `
          <p class="kicker">Academic</p>
          <h1>Top 10 Quantitative Coursework</h1>
          <p class="lead">
            Coursework selected for mathematical rigor and direct transfer to defensible model development:
            uncertainty quantification, assumption testing, stability, evaluation, and communication.
          </p>

          ${courseBlock({
            title: "STAT 4101 & 4102 — Theory of Statistics I & II",
            lines: [
              ["Theory", "Probability theory, random variables, distributions"],
              ["Models", "Estimation, hypothesis testing, asymptotic theory"],
              ["Applied Context", "Applied statistical inference to model validation, uncertainty quantification, and assumption testing in production ML models."]
            ]
          })}

          ${courseBlock({
            title: "CSCI 2033 — Linear Algebra",
            lines: [
              ["Theory", "Vector spaces, linear transformations"],
              ["Methods", "Eigenvalues, matrix decompositions"],
              ["Applied Context", "Used linear algebra concepts to reason about model stability, feature transformations, and regularization behavior in ML pipelines"]
            ]
          })}

          ${courseBlock({
            title: "STAT 5201 — Sampling Methodology (Graduate Level)",
            lines: [
              ["Theory", "Probability sampling, survey inference"],
              ["Models", "Stratified, cluster, multistage sampling"],
              ["Applied Context", "Applied sampling concepts to assess representativeness and validation strategies for non-random client datasets"]
            ]
          })}

          ${courseBlock({
            title: "CSCI 5521 — Introduction to Machine Learning (Graduate Level)",
            lines: [
              ["Models", "Regression, classification, clustering"],
              ["Methods", "Regularization, model evaluation, generalization"],
              ["Skills", "Python"],
              ["Applied Context", "Built and evaluated classification and regression models used in advisor decision-support tools and client outcome prediction"]
            ]
          })}

          ${courseBlock({
            title: "STAT 3032 — Regression and Correlated Data",
            lines: [
              ["Models", "Linear regression, generalized least squares"],
              ["Methods", "Modeling correlated & longitudinal data"],
              ["Applied Context", "Modeled time series regression model for prediction and identification of important features"]
            ]
          })}

          ${courseBlock({
            title: "STAT 4051 & 4052 — Applied Statistics & Statistical Learning",
            lines: [
              ["Models", "Penalized regression, PCA, classification, tree-based methods"],
              ["Theory", "Bias–variance tradeoff, model selection"],
              ["Applied Context", "Selected and compared models for business deployment, balancing interpretability, performance, and regulatory scrutiny"]
            ]
          })}

          ${courseBlock({
            title: "CSCI 2011 — Discrete Structures",
            lines: [
              ["Theory", "Logic, proofs, combinatorics, graph theory"],
              ["Applied Context", "Strengthened algorithmic reasoning for feature engineering logic, data validation rules, and system constraints"]
            ]
          })}

          ${courseBlock({
            title: "STAT 4893W — Communication for Statisticians",
            lines: [
              ["Project", "Baseball Attendance Prediction using Regularized Regression"],
              ["Applied Context", "Directly applicable to writing Model Risk Management (MRM) documentation and communicating model behavior to non-technical stakeholders"]
            ]
          })}

          <div class="note">
            (If you want, I can also convert each course into a consistent 2-line “admissions scan” format: <b>why it matters</b> + <b>how you used it</b>.)
          </div>
        `
      },

      "academic-foundation": {
        label: "Academic — Foundations",
        render: () => `
          <p class="kicker">Academic</p>
          <h1>Foundational Quantitative Coursework</h1>
          <p class="lead">
            Breadth-focused listing with minimal descriptors.
          </p>

          <div class="card-block">
            <ul>
              <li>Calculus I & II – differentiation, integration, series</li>
              <li>Calculus for Management Science – optimization</li>
              <li>College Algebra for STEM – functions, equations</li>
              <li>Statistics I / Elementary Statistics – probability, inference</li>
              <li>Introduction to Algorithms – algorithmic thinking</li>
              <li>Introduction to C/C++ – low-level programming</li>
              <li>Programming Applications & Concepts – computational workflows</li>
            </ul>
          </div>
        `
      },

      "academic-postgrad": {
        label: "Academic — Post-grad",
        render: () => `
          <p class="kicker">Academic</p>
          <h1>Post-Graduate Quantitative Training</h1>
          <p class="lead">
            <b>Self-directed, gap-driven learning.</b> All coursework below was selected to address concrete gaps encountered in production work.
          </p>

          ${trainingBlock({
            title: "Coursera — IBM Data Science Professional Certificate",
            gap: "Need for consistent, production-ready Python workflows in analytics projects",
            focus: ["Python for data analysis", "Applied machine learning fundamentals"],
            transfer: "Reinforced Python-based data processing and modeling patterns used in day-to-day analytics tasks"
          })}

          ${trainingBlock({
            title: "Udemy — Algorithm & Data Structure Bootcamp",
            gap: "Need for stronger algorithmic reasoning when designing scalable data pipelines",
            focus: ["Arrays, recursion, sorting, searching", "Time and space complexity"],
            transfer: "Improved reasoning around computational efficiency and trade-offs in model pipelines"
          })}

          ${trainingBlock({
            title: "Udemy — Complete Time Series Analysis with Python",
            gap: "Limited formal training for financial time-series modeling under non-stationarity",
            focus: ["Stationarity, feature engineering, forecasting", "ARIMA-family and regression-based approaches"],
            transfer: "Directly informed time-series modeling decisions in cash balance prediction projects"
          })}

          ${trainingBlock({
            title: "Udemy — Math for Data Science Masterclass",
            gap: "Desire to strengthen mathematical intuition behind model behavior",
            focus: ["Linear algebra, probability, optimization"],
            transfer: "Sharpened understanding of why models behave as they do, not just how to tune them"
          })}
        `
      },

      "academic-careercontext": {
        label: "Academic — Career Context",
        render: () => `
          <p class="kicker">Academic</p>
          <h1>Career Context (Academic Continuity & Deliberate Return)</h1>
          <p class="lead">
            A short, factual bridge that explains the withdrawal semester and how it strengthened long-term direction.
          </p>

          <div class="card-block">
            <p class="course">
              <b>Spring 2017 — Course Withdrawals (STAT 5302 / STAT 5303)</b><br/>
              Accepted a full-time opportunity as a player interpreter for a Korean athlete with the Minnesota Twins.
            </p>
            <div class="hr"></div>
            <p class="course">
              <span class="label">Context</span><br/>
              Role required relocation and extensive travel, making course completion infeasible.
            </p>
            <p class="course">
              <span class="label">Outcome</span><br/>
              Gained firsthand exposure to environments where performance, uncertainty, and decision-making intersect.<br/>
              Returned to the University of Minnesota with renewed clarity about long-term direction.<br/>
              Elevated Statistics to primary major and added a Computer Science minor.
            </p>
            <p class="course">
              <span class="label">Relevance</span><br/>
              This experience reinforced the importance of strong theoretical foundations when applying data analysis in high-stakes, real-world settings.
            </p>
          </div>
        `
      },

      // Community
      "community-competitions": {
        label: "Community — Competitions",
        render: () => `
          <p class="kicker">Community Involvement</p>
          <h1>Data Science Competitions</h1>
          <p class="lead">
            Real-world constraints: noisy data, imperfect labels, ambiguous objectives, and the need to explain results to stakeholders.
          </p>

          <div class="card-block">
            <div class="section-title">MinneaMUDAC 2018 — Minnesota Midterm Election Voter Turnout Prediction</div>
            <p class="course"><b>Serendipitous Discovery Award</b> - Undergraduate Division</p>
            <p class="course"><span class="label">Applied Coursework:</span> STAT 4051 / 4052 — Applied Statistics & Statistical Learning, STAT 3701 — Statistical Computing</p>
            <p class="course"><span class="label">Focus:</span> Feature construction from demographic and voting-history data. Model validation and defensible evaluation under noisy, real-world conditions</p>
            <p class="course"><span class="label">Outcome:</span> Recognized for uncovering non-obvious patterns and translating them into interpretable predictive insights in a public-policy context</p>

            <div class="hr"></div>

            <div class="section-title">Photo (example)</div>
            <div class="thumb" style="justify-content:flex-start;">
              <img src="minneamudac-2018.jpg" alt="MinneaMUDAC 2018 Team Korea group photo" />
            </div>
            <p class="note">Photo file must be next to index.html: <code>minneamudac-2018.jpg</code></p>
          </div>

          <div class="card-block">
            <div class="section-title">MUDAC 2019 — Minnesota Water Quality Classification</div>
            <p class="course"><b>University of Minnesota Statistics Team</b></p>
            <p class="course"><span class="label">Applied Coursework:</span> STAT 3032 — Regression and Correlated Data, STAT 4101 / 4102 — Theory of Statistics</p>
            <p class="course"><span class="label">Focus:</span> Handling correlated environmental measurements. Balancing model complexity with interpretability for domain stakeholders</p>
            <p class="course"><span class="label">Outcome:</span> Strengthened ability to apply statistical theory to team-based, real-world classification problems</p>
          </div>

          <div class="card-block">
            <div class="section-title">Herobot AI Challenge 2019 — Bitcoin Price Prediction</div>
            <p class="course"><span class="label">Applied Coursework:</span> STAT 3701 — Statistical Computing, STAT 4051 / 4052 — Statistical Learning</p>
            <p class="course"><span class="label">Focus:</span> Time-series modeling under extreme volatility. Evaluating model robustness in non-stationary environments</p>
            <p class="course"><span class="label">Outcome:</span> Early exposure to limitations of predictive models in unstable financial systems, later informing industry time-series work</p>
          </div>
        `
      },

      // Work Projects (placeholders for now, but structure is done)
      "work-overview": {
        label: "Work — Overview",
        render: () => `
          <p class="kicker">Work Projects</p>
          <h1>Selected Work (Structure Ready)</h1>
          <p class="lead">
            I left this section intentionally “clean” for now. When you paste your project bullets, I’ll convert them into the same card style:
            problem → approach → outcome → what I learned.
          </p>

          <div class="list">
            ${projectCard({
              meta: "WEALTH MANAGEMENT | DECISION SUPPORT",
              title: "Advisor Decision Support (Placeholder)",
              desc: "Add: problem, data, modeling approach, adoption/impact, governance considerations.",
              img: "",
              linkText: "Learn more",
              to: "work-decision-support"
            })}
            <div class="divider"></div>

            ${projectCard({
              meta: "TIME SERIES | FORECASTING",
              title: "Cash Balance / Time-Series Modeling (Placeholder)",
              desc: "Add: non-stationarity handling, feature engineering, evaluation and monitoring.",
              img: "",
              linkText: "Learn more",
              to: "work-timeseries"
            })}
          </div>
        `
      },

      "work-decision-support": {
        label: "Work — Decision Support",
        render: () => `
          <p class="kicker">Work Projects</p>
          <h1>Advisor Decision Support (Placeholder)</h1>
          <p class="lead">
            Paste your project bullets and I’ll rewrite into a concise, admissions-friendly narrative.
          </p>

          <div class="card-block">
            <div class="section-title">Template (what to paste)</div>
            <ul>
              <li><b>Problem:</b> who is the user, what decision, what constraint?</li>
              <li><b>Approach:</b> modeling / metrics / experimentation / pipeline</li>
              <li><b>Outcome:</b> adoption, accuracy, workflow impact (even if qualitative)</li>
              <li><b>Trust:</b> explainability, privacy, governance, monitoring</li>
            </ul>
          </div>
        `
      },

      "work-timeseries": {
        label: "Work — Time Series",
        render: () => `
          <p class="kicker">Work Projects</p>
          <h1>Time-Series Modeling (Placeholder)</h1>
          <p class="lead">
            Add your time-series project summary (cash sweep prediction, etc.) and I’ll convert it into the same clean layout.
          </p>
        `
      }
    };

    // Sidebar structure (with nested groups for Academic and Work Projects)
    const NAV = [
      { type: "item", id: "featured", label: "Featured" },
      { type: "item", id: "about", label: "About Me" },

      {
        type: "group",
        id: "academic",
        label: "Academic",
        children: [
          { id: "academic-top10", label: "Top 10 (Undergraduate)" },
          { id: "academic-foundation", label: "Foundation" },
          { id: "academic-postgrad", label: "Post-Graduate" },
          { id: "academic-careercontext", label: "Career Context" },
        ]
      },

      {
        type: "group",
        id: "work",
        label: "Work Projects",
        children: [
          { id: "work-overview", label: "Overview" },
          { id: "work-decision-support", label: "Decision Support" },
          { id: "work-timeseries", label: "Time Series" },
        ]
      },

      { type: "item", id: "community-competitions", label: "Community Involvement" },
      { type: "item", id: "resume", label: "Resume" },
    ];

    // Helpers
    function escapeHtml(str){
      return String(str || "")
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    function projectCard({meta, title, desc, img, linkText, to}) {
      const thumb = img
        ? `<div class="thumb"><img src="${escapeHtml(img)}" alt="${escapeHtml(title)} thumbnail"/></div>`
        : `<div class="thumb"></div>`;

      return `
        <div class="proj">
          <div>
            <div class="meta">${escapeHtml(meta)}</div>
            <h2>${escapeHtml(title)}</h2>
            <p>${escapeHtml(desc)}</p>
            <a class="learn" href="#${escapeHtml(to)}" onclick="return false;" data-go="${escapeHtml(to)}">
              ${escapeHtml(linkText)} <span aria-hidden="true">→</span>
            </a>
          </div>
          ${thumb}
        </div>
      `;
    }

    function courseBlock({title, lines}) {
      return `
        <div class="card-block">
          <div class="section-title">${escapeHtml(title)}</div>
          <p class="course">
            ${lines.map(([k,v]) => `
              <span class="label">${escapeHtml(k)}:</span> ${escapeHtml(v)}<br/>
            `).join("")}
          </p>
        </div>
      `;
    }

    function trainingBlock({title, gap, focus, transfer}) {
      return `
        <div class="card-block">
          <div class="section-title">${escapeHtml(title)}</div>
          <p class="course"><span class="label">Applied Gap:</span> ${escapeHtml(gap)}</p>
          <p class="course"><span class="label">Focus:</span><br/>• ${focus.map(escapeHtml).join("<br/>• ")}</p>
          <p class="course"><span class="label">Transfer to Practice:</span> ${escapeHtml(transfer)}</p>
        </div>
      `;
    }

    const navEl = document.getElementById("nav");
    const contentEl = document.getElementById("content");

    function setPage(id){
      const page = PAGES[id] || PAGES.featured;
      contentEl.innerHTML = page.render();
      document.title = `Tae Uk — ${page.label}`;
      history.replaceState(null, "", "#" + encodeURIComponent(id));

      // select states
      document.querySelectorAll(".nav-item[data-id]").forEach(b => b.setAttribute("aria-selected","false"));
      const btn = document.querySelector(`.nav-item[data-id="${CSS.escape(id)}"]`);
      if (btn) btn.setAttribute("aria-selected","true");

      // open parent group if needed
      document.querySelectorAll(".nav-group").forEach(g => {
        const groupId = g.getAttribute("data-group");
        const hasChild = !!g.querySelector(`.nav-item[data-id="${CSS.escape(id)}"]`);
        if (hasChild) g.setAttribute("aria-expanded","true");
      });

      // internal links
      document.querySelectorAll("[data-go]").forEach(a => {
        a.addEventListener("click", () => setPage(a.getAttribute("data-go")));
      });
    }

    function toggleGroup(el){
      const expanded = el.getAttribute("aria-expanded") === "true";
      el.setAttribute("aria-expanded", String(!expanded));
    }

    function buildNav(){
      navEl.innerHTML = "";

      NAV.forEach(entry => {
        if (entry.type === "item") {
          const btn = document.createElement("button");
          btn.className = "nav-item";
          btn.type = "button";
          btn.setAttribute("data-id", entry.id);
          btn.setAttribute("aria-selected", "false");
          btn.innerHTML = `<span>${escapeHtml(entry.label)}</span>`;
          btn.addEventListener("click", () => setPage(entry.id));
          navEl.appendChild(btn);
          return;
        }

        if (entry.type === "group") {
          const group = document.createElement("div");
          group.className = "nav-group";
          group.setAttribute("data-group", entry.id);
          group.setAttribute("aria-expanded", "false");

          const head = document.createElement("button");
          head.type = "button";
          head.innerHTML = `<span>${escapeHtml(entry.label)}</span><span class="chev">⌄</span>`;
          head.addEventListener("click", () => toggleGroup(group));

          const sub = document.createElement("div");
          sub.className = "nav-sub";

          entry.children.forEach(child => {
            const b = document.createElement("button");
            b.className = "nav-item";
            b.type = "button";
            b.setAttribute("data-id", child.id);
            b.setAttribute("aria-selected", "false");
            b.innerHTML = `<span>${escapeHtml(child.label)}</span>`;
            b.addEventListener("click", () => setPage(child.id));
            sub.appendChild(b);
          });

          group.appendChild(head);
          group.appendChild(sub);
          navEl.appendChild(group);
          return;
        }
      });
    }

    buildNav();

    // initial
    const hash = decodeURIComponent(location.hash.replace("#",""));
    setPage(hash || "featured");
  </script>
</body>
</html>
